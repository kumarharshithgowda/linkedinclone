<%- include('partials/header') %>
<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LinkedIn Profile Clone - Editable</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <style>
    textarea { resize: vertical; }
  </style>
</head>
<body class="bg-gray-100 font-sans text-gray-800">

  <div class="max-w-6xl mx-auto p-6">

    <!-- Profile Header -->
    <div class="bg-white rounded shadow p-6 flex flex-col md:flex-row md:space-x-8 items-start">
      <div class="flex-shrink-0">
        <img
          id="profile-photo"
          class="rounded-full w-32 h-32 object-cover"
          src="https://randomuser.me/api/portraits/men/75.jpg"
          alt="Profile photo"
        />
      </div>
      <div class="mt-4 md:mt-0 flex-1 relative">
        <button id="edit-btn" class="absolute top-0 right-0 bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition">Edit</button>
        <button id="save-btn" class="absolute top-0 right-0 bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 transition hidden">Save</button>
        <button id="cancel-btn" class="absolute top-0 right-16 bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-600 transition hidden">Cancel</button>

        <h1 id="name" class="text-3xl font-bold">John Doe</h1>
        <input type="text" id="name-input" class="hidden border border-gray-300 rounded p-1 w-full text-3xl font-bold" />

        <p id="headline" class="text-gray-600 mt-1">AI/ML Engineer | Software Developer | Open to work</p>
        <input type="text" id="headline-input" class="hidden border border-gray-300 rounded p-1 w-full" />

        <p id="location" class="text-gray-500 mt-2">Bangalore, India</p>
        <input type="text" id="location-input" class="hidden border border-gray-300 rounded p-1 w-full" />
      </div>
    </div>

    <!-- Navigation Tabs -->
    <nav class="bg-white mt-6 rounded shadow px-6">
      <ul class="flex space-x-8 border-b border-gray-300">
        <li>
          <a href="/profile" class="inline-block py-4 text-blue-600 border-b-2 border-blue-600 font-semibold">Profile</a>
        </li>
        <li>
          <a href="/internships" class="inline-block py-4 text-gray-600 hover:text-blue-600 hover:border-blue-600 border-b-2 border-transparent">Internships</a>
        </li>
        <li>
          <a href="/jobs" class="inline-block py-4 text-gray-600 hover:text-blue-600 hover:border-blue-600 border-b-2 border-transparent">Jobs</a>
        </li>
        <li>
          <a href="/skill-testing" class="inline-block py-4 text-gray-600 hover:text-blue-600 hover:border-blue-600 border-b-2 border-transparent">Skill Testing</a>
        </li>
      </ul>
    </nav>

    <!-- Main Content Grid -->
    <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-8">

      <!-- Left Column: About + Experience + Education + Skills -->
      <div class="space-y-6 md:col-span-2">

        <!-- About -->
        <section class="bg-white p-6 rounded shadow">
          <h2 class="text-xl font-semibold mb-3 flex justify-between items-center">
            About
          </h2>
          <p id="about-text" class="text-gray-700 leading-relaxed">
            Passionate AI/ML engineer with 3+ years of experience designing and implementing scalable machine learning models. Skilled in Python, TensorFlow, and data analytics. Eager to collaborate on innovative projects that make an impact.
          </p>
          <textarea id="about-input" class="hidden w-full border border-gray-300 rounded p-2" rows="4"></textarea>
        </section>

        <!-- Experience -->
        <section class="bg-white p-6 rounded shadow">
          <h2 class="text-xl font-semibold mb-4">Experience</h2>

          <div class="mb-5">
            <h3>Software Engineer - Google</h3>
            <p id="exp1-duration" class="text-gray-600 text-sm italic">June 2021 - Present | Bangalore, India</p>
            <input type="text" id="exp1-duration-input" class="hidden border border-gray-300 rounded p-1 w-full mb-1" />

            <ul id="exp1-list" class="list-disc list-inside mt-2 text-gray-700">
              <li>Developed scalable backend services using Python and Go</li>
              <li>Optimized ML pipelines for production use, reducing latency by 30%</li>
              <li>Collaborated with cross-functional teams to launch new AI features</li>
            </ul>
            <textarea id="exp1-input" class="hidden w-full border border-gray-300 rounded p-2" rows="4">
Developed scalable backend services using Python and Go
Optimized ML pipelines for production use, reducing latency by 30%
Collaborated with cross-functional teams to launch new AI features
</textarea>
          </div>

          <div>
            <h3>ML Intern - Microsoft</h3>
            <p id="exp2-duration" class="text-gray-600 text-sm italic">Jan 2020 - May 2021 | Remote</p>
            <input type="text" id="exp2-duration-input" class="hidden border border-gray-300 rounded p-1 w-full mb-1" />

            <ul id="exp2-list" class="list-disc list-inside mt-2 text-gray-700">
              <li>Implemented NLP models to improve chatbot accuracy by 20%</li>
              <li>Created dashboards for performance monitoring of ML models</li>
            </ul>
            <textarea id="exp2-input" class="hidden w-full border border-gray-300 rounded p-2" rows="3">
Implemented NLP models to improve chatbot accuracy by 20%
Created dashboards for performance monitoring of ML models
</textarea>
          </div>
        </section>

        <!-- Education -->
        <section class="bg-white p-6 rounded shadow">
          <h2 class="text-xl font-semibold mb-4">Education</h2>
          <div>
            <h3>Bachelor of Engineering - BMS Institute of Technology</h3>
            <p id="edu-duration" class="text-gray-600 text-sm italic">2017 - 2021 | Bangalore, India</p>
            <input type="text" id="edu-duration-input" class="hidden border border-gray-300 rounded p-1 w-full" />
            <p id="edu-details" class="mt-1 text-gray-700">Major: Computer Science | GPA: 8.7/10</p>
            <input type="text" id="edu-details-input" class="hidden border border-gray-300 rounded p-1 w-full" />
          </div>
        </section>

        <!-- Skills -->
        <section class="bg-white p-6 rounded shadow">
          <h2 class="text-xl font-semibold mb-4">Skills & Endorsements</h2>
          <div id="skills-display" class="flex flex-wrap gap-2">
            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">Python</span>
            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">Machine Learning</span>
            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">TensorFlow</span>
            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">Data Analysis</span>
            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">NLP</span>
          </div>
          <textarea id="skills-input" class="hidden w-full border border-gray-300 rounded p-2" rows="3">Python, Machine Learning, TensorFlow, Data Analysis, NLP</textarea>
          <p class="text-sm text-gray-500 mt-1">Enter skills separated by commas.</p>
        </section>

      </div>

      <!-- Right Column: Contact Info -->
      <aside class="bg-white p-6 rounded shadow space-y-4">
        <h2 class="text-xl font-semibold mb-3">Contact Info</h2>
        <div class="flex items-center space-x-3">
          <i class="fas fa-envelope text-gray-600"></i>
          <a href="mailto:john@example.com" class="text-blue-600 hover:underline">john@example.com</a>
        </div>
        <div class="flex items-center space-x-3">
          <i class="fas fa-phone-alt text-gray-600"></i>
          <span>+91 98765 43210</span>
        </div>
        <div class="flex items-center space-x-3">
          <i class="fas fa-linkedin text-gray-600"></i>
          <a href="https://linkedin.com/in/johndoe" target="_blank" class="text-blue-600 hover:underline">linkedin.com/in/johndoe</a>
        </div>
        <div class="flex items-center space-x-3">
          <i class="fas fa-map-marker-alt text-gray-600"></i>
          <span>Bangalore, India</span>
        </div>
      </aside>
    </div>
  </div>

  <script>
    const editBtn = document.getElementById('edit-btn');
    const saveBtn = document.getElementById('save-btn');
    const cancelBtn = document.getElementById('cancel-btn');

    // Elements to toggle editing
    const nameDisplay = document.getElementById('name');
    const nameInput = document.getElementById('name-input');
    const headlineDisplay = document.getElementById('headline');
    const headlineInput = document.getElementById('headline-input');
    const locationDisplay = document.getElementById('location');
    const locationInput = document.getElementById('location-input');

    const aboutText = document.getElementById('about-text');
    const aboutInput = document.getElementById('about-input');

    const exp1List = document.getElementById('exp1-list');
    const exp1Input = document.getElementById('exp1-input');
    const exp1Duration = document.getElementById('exp1-duration');
    const exp1DurationInput = document.getElementById('exp1-duration-input');

    const exp2List = document.getElementById('exp2-list');
    const exp2Input = document.getElementById('exp2-input');
    const exp2Duration = document.getElementById('exp2-duration');
    const exp2DurationInput = document.getElementById('exp2-duration-input');

    const eduDuration = document.getElementById('edu-duration');
    const eduDurationInput = document.getElementById('edu-duration-input');
    const eduDetails = document.getElementById('edu-details');
    const eduDetailsInput = document.getElementById('edu-details-input');

    const skillsDisplay = document.getElementById('skills-display');
    const skillsInput = document.getElementById('skills-input');

    // Save original data for cancel revert
    let originalData = {};

    function toggleEditMode(editMode) {
      if (editMode) {
        // Show inputs, hide text
        editBtn.classList.add('hidden');
        saveBtn.classList.remove('hidden');
        cancelBtn.classList.remove('hidden');

        nameDisplay.classList.add('hidden');
        nameInput.classList.remove('hidden');
        nameInput.value = nameDisplay.textContent;

        headlineDisplay.classList.add('hidden');
        headlineInput.classList.remove('hidden');
        headlineInput.value = headlineDisplay.textContent;

        locationDisplay.classList.add('hidden');
        locationInput.classList.remove('hidden');
        locationInput.value = locationDisplay.textContent;

        aboutText.classList.add('hidden');
        aboutInput.classList.remove('hidden');
        aboutInput.value = aboutText.textContent.trim();

        exp1List.classList.add('hidden');
        exp1Input.classList.remove('hidden');
        exp1Input.value = Array.from(exp1List.querySelectorAll('li')).map(li => li.textContent).join('\n');
        exp1Duration.classList.add('hidden');
        exp1DurationInput.classList.remove('hidden');
        exp1DurationInput.value = exp1Duration.textContent;

        exp2List.classList.add('hidden');
        exp2Input.classList.remove('hidden');
        exp2Input.value = Array.from(exp2List.querySelectorAll('li')).map(li => li.textContent).join('\n');
        exp2Duration.classList.add('hidden');
        exp2DurationInput.classList.remove('hidden');
        exp2DurationInput.value = exp2Duration.textContent;

        eduDuration.classList.add('hidden');
        eduDurationInput.classList.remove('hidden');
        eduDurationInput.value = eduDuration.textContent;

        eduDetails.classList.add('hidden');
        eduDetailsInput.classList.remove('hidden');
        eduDetailsInput.value = eduDetails.textContent;

        skillsDisplay.classList.add('hidden');
        skillsInput.classList.remove('hidden');

        // Save original data
        originalData = {
          name: nameDisplay.textContent,
          headline: headlineDisplay.textContent,
          location: locationDisplay.textContent,
          about: aboutText.textContent.trim(),
          exp1Duration: exp1Duration.textContent,
          exp1List: Array.from(exp1List.querySelectorAll('li')).map(li => li.textContent),
          exp2Duration: exp2Duration.textContent,
          exp2List: Array.from(exp2List.querySelectorAll('li')).map(li => li.textContent),
          eduDuration: eduDuration.textContent,
          eduDetails: eduDetails.textContent,
          skills: skillsInput.value,
        };

      } else {
        // Show text, hide inputs
        editBtn.classList.remove('hidden');
        saveBtn.classList.add('hidden');
        cancelBtn.classList.add('hidden');

        nameDisplay.classList.remove('hidden');
        nameInput.classList.add('hidden');

        headlineDisplay.classList.remove('hidden');
        headlineInput.classList.add('hidden');

        locationDisplay.classList.remove('hidden');
        locationInput.classList.add('hidden');

        aboutText.classList.remove('hidden');
        aboutInput.classList.add('hidden');

        exp1List.classList.remove('hidden');
        exp1Input.classList.add('hidden');

        exp1Duration.classList.remove('hidden');
        exp1DurationInput.classList.add('hidden');

        exp2List.classList.remove('hidden');
        exp2Input.classList.add('hidden');

        exp2Duration.classList.remove('hidden');
        exp2DurationInput.classList.add('hidden');

        eduDuration.classList.remove('hidden');
        eduDurationInput.classList.add('hidden');

        eduDetails.classList.remove('hidden');
        eduDetailsInput.classList.add('hidden');

        skillsDisplay.classList.remove('hidden');
        skillsInput.classList.add('hidden');
      }
    }

    editBtn.addEventListener('click', () => {
      toggleEditMode(true);
    });

    cancelBtn.addEventListener('click', () => {
      // Revert changes
      nameDisplay.textContent = originalData.name;
      headlineDisplay.textContent = originalData.headline;
      locationDisplay.textContent = originalData.location;
      aboutText.textContent = originalData.about;
      exp1Duration.textContent = originalData.exp1Duration;
      exp2Duration.textContent = originalData.exp2Duration;
      eduDuration.textContent = originalData.eduDuration;
      eduDetails.textContent = originalData.eduDetails;
      skillsInput.value = originalData.skills;

      // Rebuild exp1 and exp2 lists
      exp1List.innerHTML = '';
      originalData.exp1List.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        exp1List.appendChild(li);
      });
      exp2List.innerHTML = '';
      originalData.exp2List.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        exp2List.appendChild(li);
      });

      toggleEditMode(false);
    });

    saveBtn.addEventListener('click', () => {
      // Save data from inputs back to display
      nameDisplay.textContent = nameInput.value.trim() || 'John Doe';
      headlineDisplay.textContent = headlineInput.value.trim() || 'AI/ML Engineer | Software Developer | Open to work';
      locationDisplay.textContent = locationInput.value.trim() || 'Bangalore, India';
      aboutText.textContent = aboutInput.value.trim() || 'No about info provided.';

      exp1Duration.textContent = exp1DurationInput.value.trim() || 'June 2021 - Present | Bangalore, India';
      exp2Duration.textContent = exp2DurationInput.value.trim() || 'Jan 2020 - May 2021 | Remote';

      eduDuration.textContent = eduDurationInput.value.trim() || '2017 - 2021 | Bangalore, India';
      eduDetails.textContent = eduDetailsInput.value.trim() || 'Major: Computer Science | GPA: 8.7/10';

      // Convert experience bullet points back from textarea lines to list items
      const exp1Lines = exp1Input.value.trim().split('\n').filter(l => l.trim() !== '');
      exp1List.innerHTML = '';
      exp1Lines.forEach(line => {
        const li = document.createElement('li');
        li.textContent = line;
        exp1List.appendChild(li);
      });

      const exp2Lines = exp2Input.value.trim().split('\n').filter(l => l.trim() !== '');
      exp2List.innerHTML = '';
      exp2Lines.forEach(line => {
        const li = document.createElement('li');
        li.textContent = line;
        exp2List.appendChild(li);
      });

      // Update skills
      const skillsRaw = skillsInput.value.trim();
      const skillArr = skillsRaw.split(',').map(s => s.trim()).filter(s => s.length > 0);
      skillsDisplay.innerHTML = '';
      skillArr.forEach(skill => {
        const span = document.createElement('span');
        span.className = 'bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium';
        span.textContent = skill;
        skillsDisplay.appendChild(span);
      });

      toggleEditMode(false);
    });
  </script>
</body>
</html>



<%- include('partials/footer') %>